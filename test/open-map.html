<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title></title>
	</head>
	<body>
        <a href="androidamap://poi?sourceApplication=dingtalk&keywords=上海">打开安卓高德地图</a><br>
        <a href="iosamap://poi?sourceApplication=dingtalk&keywords=上海">打开iOS高德地图</a><br>
        <a href="qqmap://map/search?keyword=上海">打开腾讯地图</a><br><br>
        <a id="bd">打开百度地图</a><br>
    </body>
    <script type="text/javascript">
        var bd = document.getElementById('bd');
        bd.onclick = function() {
            var u = navigator.userAgent;
            var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; 
            var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
            var isWeixin = u.match(/MicroMessenger/i) == 'MicroMessenger'; //微信浏览器       
            if (isAndroid) {
                window.location.href = 'baidumap://map/place/search?query=广东省广州市白云区长红东路5号101房 ';
                setTimeout(function(){
                    let hidden = window.document.hidden || window.document.mozHidden || window.document.msHidden ||window.document.webkitHidden 
                    if(typeof hidden =="undefined" || hidden ==false){
                        window.location.href ="https://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.BaiduMap";
                    }
                }, 2000);
            }
            if (isIOS) {
                   window.location.href = 'baidumap://map/place/search?query=广东省广州市白云区长红东路5号101房';
                   setTimeout(function(){
                    let hidden = window.document.hidden || window.document.mozHidden || window.document.msHidden ||window.document.webkitHidden 
                    if(typeof hidden =="undefined" || hidden ==false){
                        //App store下载地址
                        window.location.href = "https://itunes.apple.com";
                    }
                }, 2000);
                return false;
            }
            // 现微信不支持直接调起app或到应用商店打开安卓百度地图app和苹果百度地图app,普通用户不支持，去浏览器下载
            if (isWeixin && isAndroid) {
            //此方法是微信内置地图，
              wx.openLocation({
                latitude: 22.545538, // 纬度，浮点数，范围为90 ~ -90
                longitude: 114.054565, // 经度，浮点数，范围为180 ~ -180。
                name: '上海', // 位置名
                address: '位置名的详情说明', // 地址详情说明
                scale: 10, // 地图缩放级别,整形值,范围从1~28。默认为最大
              });
            }
               
        }
    </script>
</html>
